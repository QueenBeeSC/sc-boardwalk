<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">

<!-- <link rel="import" href="../sc-newdeal/sc-newdeal.html"> -->

<!--
`sc-boardwalk-app`


-->
<dom-module id="sc-boardwalk-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

   <!--  <app-location route="{{route}}" use-hash-as-path></app-location> -->
    <app-route route="[[route]]" pattern="/:page" data="{{routedata}}" tail="{{pageTail}}"></app-route>
    <neon-animated-pages attr-for-selected="data-page" selected="[[routedata.page]]">

    <div
      data-page="p1"
      >
        Ik ben den App
        <a on-tap="exit">exit the app</a>
      </div>
    <div
      data-page="p2"
      >route 2</div>
    </neon-animated-pages>

  </template>

  <script>
    Polymer({

      is: 'sc-boardwalk-app',

      properties: {
        route: {
          type: Object
        },
      },
      
      observers: [
        '_onRouteDataChanged(routedata.page)'
      ],

      ready: function(){
        //this.transitionto('/p1');
      },

      attached: function(){
        setTimeout(function(){
          this.fire('loaded');
        }.bind(this),2*1000);
      },
      onEnter: function(){
        console.log('sc-boardwalk -> onEnter');
        this.transitionto('/p1');        
      },
      onExit: function(){
        console.log('sc-boardwalk -> onExit');
        this.transitionto('/');
      },

      exit: function() {
        this.fire('exit');
      },

      transitionto: function(target){
        console.log('ac-app -> transitionTo',target);
        this.set('route.path',target);
      },

      _onRouteDataChanged: function(page,oldpage) {
         console.log('ac-app -> _onRouteDataChanged',oldpage,'->',page);
       }
    });
  </script>
</dom-module>
